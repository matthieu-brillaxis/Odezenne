/*!
 * vue-analytics v4.1.2
 * (c) 2017 Matteo Gabriele
 * Released under the ISC License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("load-script")):"function"==typeof define&&define.amd?define(["load-script"],t):e.VueAnalytics=t(e.loadScript)}(this,function(e){"use strict";function t(e){return e.replace(/-/gi,"")}function n(){return[].concat(j.id)}function o(e,o){var a=t(o);return n().length>1?a+"."+e:e}function a(e){return A(j,e)}function r(e){for(var t=arguments.length,a=Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];"undefined"!=typeof window.ga&&n().forEach(function(t){var n;(n=window).ga.apply(n,[o(e,t)].concat(a))})}function i(e){var t=Object.keys(e).reduce(function(t,n,o,a){return t+=n+"="+e[n],o<a.length-1&&(t+="&"),t},"?");return"?"===t?"":t}function u(e,t){if(!e)return void T("Is not possible to track the current route without VueRouter installed");var n=e.currentRoute,o={page:n.path+i(n.query),title:n.name,location:window.location.href};return"function"==typeof t[1]&&(o.hitCallback=t[1]),o}function c(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[0];return"VueRouter"===o.constructor.name?void r("send","pageview",u(o,t)):void r.apply(void 0,["send","pageview"].concat(t))}function l(){if("undefined"!=typeof window.ga){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length)return"object"===k(t[0])&&t[0].constructor===Object?void r("set",t[0]):t.length<2||"string"!=typeof t[0]&&"string"!=typeof t[1]?void T("$ga.set needs a field name and a field value, or you can pass an object literal"):void r("set",t[0],t[1])}}function f(e,t){return e?e(t.currentRoute):t}function d(e){if(j.autoTracking.page&&e){var t=e.currentRoute,n=j.autoTracking.pageviewTemplate;!x(t.name)&&j.autoTracking.pageviewOnLoad&&(l("page",t.path),c(f(n,e))),e.afterEach(function(t){var o=t.name,a=t.path;x(o)||(l("page",a),c(f(n,e)))})}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r("send","exception",{exDescription:e,exFatal:t})}function g(){j.autoTracking.exception&&(window.onerror=function(e){return s(e.message||e)})}function p(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.apply(void 0,["send","event"].concat(t))}function v(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.apply(void 0,["send","timing"].concat(t))}function y(){r.apply(void 0,arguments)}function h(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.apply(void 0,["send","social"].concat(t))}function b(e){r("require",e)}function w(o,a){if(!j.manual){if(!j.id||!j.id.length){var r="https://github.com/MatteoGabriele/vue-analytics#usage";return void T("Please enter a Google Analaytics tracking ID",r)}var i=j.userId||{},u=j.debug.enabled?"_debug":"",c="https://www.google-analytics.com/analytics"+u+".js";e(c,function(e,r){if(e)return void T("Ops! Is not possible to load Google Analytics script");var u=setInterval(function(){if(window.ga){clearInterval(u),j.debug.enabled&&(window.ga_debug={trace:j.debug.trace});var e=n();e.forEach(function(n){e.length>1&&(i.name=t(n)),window.ga("create",n,"auto",i)}),a&&"function"==typeof a&&a(),j.debug.sendHitTask||R.set("sendHitTask",null),R.autoTrackException(),R.autoTrackPage(o)}},10)})}}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.router;delete t.router,a(t),w(n,t.onReady),e.prototype.$ga=e.$ga=R}e="default"in e?e.default:e;var k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];console.warn("[VueAnalytics] "+t.join(" "))},x=function(e){return!(!j.ignoreRoutes.length||j.ignoreRoutes.indexOf(e)===-1)},A=function e(t,n){return Object.keys(n).forEach(function(o){return t[o]&&"object"===k(t[o])?void e(t[o],n[o]):void(t[o]=n[o])}),t},j={debug:{enabled:!1,trace:!1,sendHitTask:!0},autoTracking:{exception:!1,page:!0,pageviewOnLoad:!0,pageviewTemplate:null},id:null,userId:null,ignoreRoutes:[]},R={autoTrackPage:d,autoTrackException:g,social:h,page:c,event:p,time:v,exception:s,set:l,query:y,require:b},I={install:m,generateMethodName:o};return I});